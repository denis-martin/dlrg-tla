<div class="modal-header">
	<h3 class="modal-title" id="modal-title">{{modalTitle}}: {{obj.pId | dbfield:"participants":"data.firstName"}} {{obj.pId | dbfield:"participants":"data.lastName"}}</h3>
	<div style="float: right">
		<button class="btn" type="button" ng-click="cancel()"><span class="glyphicon glyphicon-remove"></span></button>
	</div>
</div>
<div class="modal-body" id="modal-body">

<form>

<div class="container">
	<div class="row">
		<div class="col-md-3">
			<label for="qualificationtype">Qualifikationstyp</label>
			<select class="form-control" id="qualificationtype" ng-model="obj.qtId">
				<option ng-repeat="option in DlrgTla.db.qualificationtypes" ng-value="option.id">{{option.name}}</option>
			</select>
		</div>
		<div class="col-md-3">
			<label for="date">Datum</label>
			<input type="date" class="form-control" id="date" max="9999-12-31" 
				ng-model="obj.getSetDate" ng-model-options="{ getterSetter: true, timezone: 'UTC' }">
		</div>
		<div class="col-md-3">
			<label for="renewalDate">Letzte Wdh./Verlängerung</label>
			<input type="date" class="form-control" id="renewalDate" max="9999-12-31" 
				ng-model="obj.getSetRenewalDate" ng-model-options="{ getterSetter: true, timezone: 'UTC' }">
		</div>
		<div class="col-md-3">
			<label for="expiryDate">Gültig bis</label>
			<input type="date" class="form-control" id="expiryDate" max="9999-12-31" 
				ng-model="obj.getSetExpiryDate" ng-model-options="{ getterSetter: true, timezone: 'UTC' }">
		</div>
	</div>
	<div class="row">
		<div class="col-md-4">
			<label for="regno">Registriernummer</label>
			<input type="text" class="form-control" id="regno" ng-model="obj.data.regno">
		</div>
		<div class="col-md-3">
			<label for="examiner">Prüfer</label>
			<input type="text" class="form-control" id="examiner" ng-model="obj.data.examiner">
		</div>
		<div class="col-md-2">
			<label for="examiner">Anz. Wdh.</label>
			<input type="number" class="form-control" id="renewalCount" ng-model="obj.data.renewalCount">
		</div>
	</div>
	<div class="row">
		<div class="col-md-12">
			<label for="notes">Notizen</label>
			<textarea class="form-control" id="notes" ng-model="obj.data.notes"></textarea>
		</div>
	</div>
	<div class="row" ng-if="obj.id">
		<div class="col-md-12">
			<span class="fieldLabel">Letzte Änderung: {{obj.changedAt | date:"dd.MM.yyyy HH:mm"}} ({{obj.changedBy}})</span>
		</div>
	</div>
</div>

</form>

</div>
<div class="modal-footer">
	<div style="float: left">
		<button ng-if="obj.id" class="btn btn-danger" type="button" ng-click="delete()">Löschen</button>
	</div>
	<span ng-if="DlrgTla.thinking"><span class="glyphicon glyphicon-refresh glyphicon-refresh-animate"></span></span>
	<span ng-if="commitFailed" style="color: red"><span class="glyphicon glyphicon-remove"></span> Fehlgeschlagen&nbsp;</span>
	<span ng-if="missingQualificationType" style="color: red"><span class="glyphicon glyphicon-remove"></span> Qualifikationstyp fehlt&nbsp;</span>
    <button class="btn btn-primary" type="button" ng-click="ok()">Speichern</button>
    <button class="btn btn-warning" type="button" ng-click="cancel()">Abbrechen</button>
</div>